#define SIZE 10
#define MAT1 {{-8.288, -0.954, -3.237, 0.756, -4.578, -1.706, -4.496, 7.717, -6.073, -8.187}, {-7.263, 6.015, 6.208, -9.158, 7.871, -6.491, -7.759, 1.09, 9.806, 5.273}, {-9.433, 4.112, 1.448, 0.74, -1.933, -1.454, -3.283, 2.502, -0.481, -6.252}, {4.946, 1.465, -6.644, -4.946, -7.894, -6.149, 1.273, -3.81, -1.37, -7.894}, {-6.62, -0.87, -8.776, -1.604, -5.47, -3.871, 3.159, -6.321, -5.212, -2.226}, {-2.106, -7.039, 7.786, -4.287, 0.749, 4.246, -5.255, -0.565, 0.615, 2.21}, {1.143, 8.987, -0.4, -0.929, 4.216, 3.847, 8.961, 9.04, -7.71, 5.524}, {4.777, -3.949, 8.308, -5.263, 3.556, -8.265, 2.251, -4.966, 5.895, 8.922}, {-1.417, -6.337, 8.623, 1.983, 0.704, 0.505, -7.974, -2.038, -1.671, -2.655}, {4.909, 2.576, -9.973, -0.811, 3.444, -1.51, -2.816, 6.258, -5.988, -6.717}}
#define MAT2 {{7.792, -2.109, -1.056, -5.857, -3.938, -9.196, -4.274, -0.629, 0.142, -9.035}, {4.53, 9.704, -6.079, -9.556, -2.885, 5.378, -3.174, -2.949, 9.811, -9.67}, {-7.184, 3.198, -0.312, -6.703, -2.301, -2.289, -5.636, -8.081, 4.913, 3.093}, {-1.326, -8.109, -1.482, -9.466, -6.06, 2.822, -4.83, -8.871, -9.329, -1.129}, {-3.245, 9.821, -1.318, 1.816, 1.579, -2.058, 4.72, 7.268, -0.431, -5.243}, {9.275, 2.296, -0.361, -8.885, 7.943, 7.176, 9.469, -2.267, -9.722, -5.503}, {4.538, -7.192, 7.434, -3.727, -4.008, -6.305, -8.76, 7.319, -3.973, -9.953}, {3.027, -9.244, -7.919, 3.879, -6.513, -8.461, -4.091, 5.206, -3.343, 6.775}, {-1.897, 8.293, -6.612, -1.543, 8.312, -5.504, 2.378, -3.758, 6.039, -4.182}, {2.13, -9.089, 4.603, -7.662, -4.409, 6.163, -2.398, -7.151, -4.658, 9.447}}
#define MAT3 {{-50.57842199999999, -72.09053, -70.973556, 197.834985, -29.145154999999985, 23.831083000000007, 28.286431000000007, 86.70886599999999, -21.408969000000003, 151.71832700000007}, {-186.826934, 309.322017, -132.16869300000002, 79.71724499999998, 95.589304, 14.530576000000012, 71.066809, -35.846265, 295.469243, 124.86461699999998}, {-93.200516, 89.423055, -83.328212, 79.238493, 23.296191000000004, 64.82446300000001, 25.010216000000007, 0.3011999999999965, 85.079051, 59.819047}, {48.07730299999999, 17.451150000000013, 20.255499999999998, 131.757944, 3.3801500000000013, -81.133611, -39.83172899999998, 97.781683, 127.93362399999998, -105.921526}, {-8.156168, -59.427603999999995, 123.757052, 134.36134299999998, 14.108534000000015, 103.771896, 16.92140000000001, 86.615564, -10.16311399999999, 19.373931000000006}, {-83.61233899999999, 40.933079, 17.932945999999994, 31.136968999999993, 91.683101, 28.66733, 96.41590299999999, -66.505569, -16.528355999999995, 155.50529599999996}, {170.143913, -120.86856800000002, 10.15094800000002, -136.38339299999998, -169.89874799999998, -1.461728999999998, -117.40361899999999, 108.29254300000001, -82.296681, -84.20856799999999}, {-118.56561400000001, 34.30958699999999, 80.6159, -21.327930000000023, -21.692168000000013, -115.29912299999998, -97.54283500000001, -62.558803, 132.369464, 57.08778399999999}, {-146.76587, 47.525848, -11.032491000000006, 33.810891999999996, 40.176548, 27.33738, 56.680253, -107.42872399999999, -2.951606000000005, 139.507539}, {100.67657999999999, -6.520219000000003, -82.34095299999998, 136.303482, -55.08555200000001, -72.30637, 33.85974200000001, 188.060986, -16.871732000000005, -76.929052}}

#include <math.h>
#include <stdio.h>
#include <stdlib.h>

int validate_matrix(double mat[SIZE][SIZE]) {
  double ans[SIZE][SIZE] = MAT3;
  for (int i = 0; i < SIZE; ++i) {
    for (int j = 0; j < SIZE; ++j) {
      if (fabs(ans[i][j] - mat[i][j]) > 1e-3) {
        return 0;
      }
    }
  }
  printf("Correct multiplication\n");
  return 1;
}

int main() {
  double mat1[SIZE][SIZE] = MAT1;
  double mat2[SIZE][SIZE] = MAT2;
  double product[SIZE][SIZE] = {{0.0}};

  for (int i = 0; i < SIZE; ++i) {
    for (int k = 0; k < SIZE; ++k) {
      double tmp = mat1[i][k];
      for (int j = 0; j < SIZE; ++j) {
        product[i][j] += tmp * mat2[k][j];
      }
    }
  }

  if (validate_matrix(product) != 1) {
    printf("Incorrect multiplication\n");
    exit(1);
  }

  return 0;
}
